<!DOCTYPE html>
<html>

<head>
	<title>Friend Finder!</title>
	<!--Bootstrap Framework-->
       <script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <!--JQuery Lnk-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>

<body>
	<div class="container">
		<h2 class="text-left">Survey Questions</h2>
		<hr>
		<h3 class="text-left bold">About You</h3>
		 <form role="form">
              <div class="form-group">
                <label for="reserve-name"><h4>Name (Required)</h3></label>
                <input type="text" class="form-control" id="survey-name">
              </div>

              <div class="form-group">
                <label for="reserve-phone"><h4>Link to Photo Image (Required)</h4></label>
                <input type="text" class="form-control" id="survey-picture">
              </div>
         </form>
        <hr>

        <h3 class="text-left">Question 1</h3>
        	<h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
        		<select class="chosen-select" id="q1">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 2</h3>
			<h4>Generally speaking, you rely more on exprience than your imagination.</h4>
				<select class="chosen-select" id="q2">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 3</h3>
			<h4>You find it easy to stay relaxed and focused even when there is pressure.</h4>
				<select class="chosen-select" id="q3">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 4</h3>
			<h4>You rarely do something out of sheer curiosity.</h4>
				<select class="chosen-select" id="q4">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 5</h3>
			<h4>People can rarely upset you.</h4>
				<select class="chosen-select" id="q5">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 6</h3>
			<h4>It is often difficult for you to relate to other people's feelings.<br>
				<select class="chosen-select" id="q6">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 7</h3>
			<h4>In a discussion, truth should be more important than people's sentivities</h4>
				<select class="chosen-select" id="q7">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 8</h3>
			<h4>You rarely get carried away by fantasies and ideas.</h4>
				<select class="chosen-select" id="q8">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 9</h3>
			<h4>You think that everyoneâ€™s views should be respected regardless of whether they are supported by facts or not.</h4>
				<select class="chosen-select" id="q9">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>
		<h3 class="text-left">Question 10</h3>
			<h4>You feel more energetic after spending time with a group of people.</h4>
				<select class="chosen-select" id="q10">
                 <option value="1">1 (Strongly Disagree)</option>
                 <option value="2">2</option>
                 <option value="3">3</option>
                 <option value="4">4</option>
                 <option value="5">5 (Strongly Agree)</option>
                </select>

                <hr>
    
             <button type="submit" class="btn btn-primary btn-block submit">Submit</button>
                <br>
       
	</div>

    <div id="matchModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">X</button>
                        <h2 class="modal-title">Best Match</h2>
                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                        <img id="matchImg" src="" width=500px alt="best-friend">
                </div>
            </div>
        </div>
    </div>

<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>

  

$(".submit").on("click", function(event){
        event.preventDefault();

        var newFriend = {
            name: $("#survey-name").val().trim(),
            photo: $("#survey-picture").val().trim(),
            scores: [$("#q1").val().trim(), $("#q2").val().trim(), $("#q3").val().trim(), $("#q4").val().trim(), $("#q5").val().trim(), $("#q6").val().trim(), $("#q7").val().trim(), $("#q8").val().trim(), $("#q9").val().trim(), $("#q10").val().trim()]
        }



    

        // Keeps localhost from changing when deployed
        var currentURL = window.location.origin;


        $.post(currentURL + "/api/friends", newFriend, function(data) {
            console.log(data);
        // Grab the result from the AJAX post so that the best match's name and photo are displayed.
        $("#matchName").text(data.name);
        $('#matchImg').attr("src", data.photo);
        // Show the modal with the best match 
        $("#matchModal").modal('toggle');
      })

        // Clears the form when submitted
            $('#name').val("");
            $('#photo').val("");
            $('#q1').val("");
            $('#q2').val("");
            $('#q3').val("");
            $('#q4').val("");
            $('#q5').val("");
            $('#q6').val("");
            $('#q7').val("");
            $('#q8').val("");
            $('#q9').val("");
            $('#q10').val("");


});

    
    

</script>


</body>

<footer>
    <div class="container">
    <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/mccalldan/FriendFinder/tree/master/FriendFinder">Github Repo</a></p>
    </div>

</footer>



</html>